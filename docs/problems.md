---
sidebar_position: 7
---

# 常见问题

如果软件使用过程中遇到问题或有任何建议，请在 Github 上找到 [此仓库](https://github.com/gitbobobo/StreamMusic)：

1. 进入 issues 标签页，使用搜索功能查找有无相同问题。
2. 若没有找到，请新建问题，并**提供尽可能详尽的信息**，如系统版本，服务端版本，音流版本，日志，截图等信息，**提供的信息越全面，越有可能帮助我复现问题，以便更快找到原因并解决**。

:::note 日志查看方式

关于页面，连续点击版本号可进入开发者模式。

:::

## 音乐服务

### 无法登录

可能原因：

- 账号密码输错
- 主机地址输错（需包含协议、地址和端口号）
- 使用了自签名的证书或证书的证书链不完整
- 使用了代理软件，代理软件把 127.0.0.1 拦截了

### Navidrome 扫描到 50000 首歌曲后失败

在 Navidrome 0.52 及之前版本，按添加时间查询歌曲的逻辑有些问题，请升级到最新版本以解决此问题。

若您的 Navidrome 无法升级，可尝试将 Docker 的环境变量 `ND_DEVOFFSETOPTIMIZE` 设置为大于您曲库数量的数字。

:::info 

关联问题：[The retrieval of data fails when sorting by createAt after the number of songs exceeds 50,000.](https://github.com/navidrome/navidrome/issues/3006)

:::

### 无法模糊搜索

在直连模式下，模糊搜索是否可用取决于服务端是否支持。例如，若要开启 Navidrome 的模糊搜索，需要在环境变量中开启`SearchFullString`。

媒体库模式下，由客户端提供模糊搜索的特性，若您发现某个页面的模糊搜索功能失效，请及时反馈。

## 播放

### 安卓后台播放自动暂停（没有声音）

步骤1: 音流 - 帮助 - 关闭电池优化

步骤2: 系统应用设置 - 音流 - 流量和联网 - 允许后台联网

第二步这个后台联网在不同手机可能有不同的叫法和设置位置，比如华为是在电池 - 更多电池设置 - 休眠时始终保持网络连接，请自行探索。

目前已在 魅族20 和华为平板测过这样的配置就可以保持后台播放。

### 播放时总时长一直在更新

这表示当前歌曲正在服务端转码，播放器无法得知歌曲真实的总时长，因此会显示当前已获取的音频内容的总时长。

等待歌曲转码完成即可，这是正常现象。

### 移动网络下无法播放

Wi-Fi环境可以播放，但移动网络无法播放时，首先检查资料库地址是否能够通过公网访问。

若网络没有问题，则可能是转码功能异常导致的问题。因为音流在移动网络下为减少流量消耗，默认是转码播放的，若服务端未正确配置 `ffmpeg`，则会导致播放失败。

:::info

个人建议通过 Docker 安装音乐服务端，优点是所有功能开箱即用，不必做额外的配置。

:::

## 平台相关

### 安卓通知栏播放控制失效

这似乎是安卓系统的 bug，目前的解决方案是：在系统设置中关闭音流的电池优化。

:::info

关联问题：[安卓手机通知栏控制失效](https://github.com/gitbobobo/StreamMusic/issues/145)

1.2.8 之后会在帮助页面检测电池优化是否已经关闭，点击可跳转到对应的系统设置。

:::

### 安卓播放高码率歌曲闪退

连续点击版本号，在开发者页面中启用 AudioTrack 即可修复。

### 安卓车载蓝牙歌曲信息不更新或更新有延迟

这似乎发生在安卓手机锁屏之后，目前暂未发现解决办法，具体处理进度参见问题 [Android MediaItem is not updating on car display through bluetooth](https://github.com/ryanheise/audio_service/issues/908)。

### 安卓开启桌面歌词后 Bitwarden 应用内部分区域无法点击

锁定桌面歌词后，正常来说，悬浮窗里的点击事件是可以传递给下面的界面的。

可能 Bitwarden 使用了不一样的方式识别点击事件，此时可以先在通知中心解锁或关闭桌面歌词，等操作完成后再恢复。

### 应用发烫或CPU占用过高

这个属于 Flutter 的优化问题，在界面中存在循环动画时，CPU 占用就会异常的高。

在主题设置中有个省电模式的开关，默认是开启的，一般不要关闭，不过也可尝试一下自己的手机是否能 Hold 住哈哈。

:::info

相关问题：[CPU占用有点高，手机发烫](https://github.com/gitbobobo/StreamMusic/issues/60)

:::

### CarPlay 或通知中心无法控制上一曲下一曲

请在设置中关闭 `与其他应用同时播放` 的选项。

这是 iOS 的系统特性，非软件 bug。

## 会员

### 恢复购买时提示签名信息错误

大概率是你的设备时间和正常时间相差太大导致的。

### 邮箱格式错误

请手动输入邮箱，避免粘贴时可能多产生的空格和回车等空白字符。

### 设备数量

目前新设备上线会自动将超出设备数量的旧设备踢下线，因此无需手动管理上线的设备。

## 其他问题

### 安全问题

部分用户可能担心软件会私自传输他们的服务器账号密码，我觉得这种担心是没有必要的。原因如下：

- NAS 音乐是个小众需求，用户量大不起来，拿到的数据就不会多，数据过少就没有商业价值。
- 玩 NAS 的或多或少都懂点技术，若我插入恶意代码，被发现的概率很大，我为什么放着持续的收益不要，冒着丢掉自己名声的风险去拿这些数据呢？

看了这些若你还是不放心，可以专门建一个只能访问音乐服务的账号使用。

若你觉得地址暴露了也有危险，那就没办法了，请选择你信任的软件使用吧。
